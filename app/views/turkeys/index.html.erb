<!-- app/views/turkeys/index.html.erb -->
<%= javascript_include_tag "application", "data-turbo-track": "reload" %>

<h1 class="mt-4 mb-4">Turkeys List</h1>

<div class="mb-3">
  <%= link_to 'Create New Turkey', new_turkey_path, class: "btn btn-primary" %>
</div>

<table class="table table-striped">
  <thead>
  <tr>
    <th>Name</th>
    <th>Age (months)</th>
    <th>Weight (lbs)</th>
    <th>Sex</th>
    <th>Species</th>
    <th>Status</th>
    <th>Actions</th>
  </tr>
  </thead>
  <tbody>
  <% @turkeys.each do |turkey| %>
    <tr>
      <td><%= turkey.name %></td>
      <td><%= turkey.age %></td>
      <td><%= turkey.weight %></td>
      <td><%= turkey.sex %></td>
      <td><%= turkey.species %></td>
      <td><%= turkey.status %></td>
      <td>
        <%= link_to 'Show', turkey_path(turkey), class: "btn btn-info btn-sm" %>
        <%= link_to 'Edit', edit_turkey_path(turkey), class: "btn btn-warning btn-sm" %>
        <%= button_to 'Delete', turkey_path(turkey), method: :delete, data: { confirm: 'Are you sure?' }, class: "btn btn-danger btn-sm", form: { class: 'd-inline' } %>
      </td>
    </tr>
  <% end %>
  </tbody>
</table>

<!-- app/views/turkeys/report.html.erb -->
<%= link_to 'Download CSV', report_turkeys_path(format: :csv), class: 'btn btn-primary' %>
